<!DOCTYPE html>

<html lang="en">
<head>
  <title>Bootstrap Example</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>


<script type="text/javascript">

function des()
{
  confirm('*Password 6 to 20 characters.\n*one numeric digit.\n*one uppercase.\n*one lowercase letter.')
}

function change()
{

document.getElementById('okay').style.visibility='visible';
document.getElementById('abs').style.visibility='hidden';

}

function password_validation()
{
  var Password=document.forms['passval']['Password'].value;
  var ConfirmPassword=document.forms['passval']['ConfirmPassword'].value;
 console.log(Password);
 console.log(ConfirmPassword);
 var passw = /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,20}$/;
 ws=/\s/g;




 if(!Password.match(passw))
  {

    document.passval.Password.focus()
    document.getElementById('pas').innerHTML='*invalid'
    document.getElementById('pas').style.visibility='visible';
    return false;

  }

 else {
   if ( Password.match(ws)) {
     document.getElementById('pas').innerHTML='*spaces are not allowed'
     document.getElementById('pas').style.visibility='visible';
     return false;
   }
  document.getElementById('pas').style.visibility='hidden';

 }

 if(!(Password == ConfirmPassword))
 {
   document.getElementById('cpass').style.visibility='visible';
   document.passval.ConfirmPassword.focus()
   return false;


 }
else {
console.log('waiting')

return true;
}


}


</script>

<style media="screen">

#abs{
  position: absolute;
  top:330px;
  left: 205px;
}


.btn1 {
  border: none;
  background-color: inherit;
  padding: 14px 28px;
  font-size: 16px;
  cursor: pointer;
  display: inline-block;
}

.btn1:hover {background: rgb(0,10,255);}

.success {color: white;}

#align{
  position: relative;

  width:150px;
  margin: auto;
  border: 1px solid blue;
}

#align2{
  border: 1px solid blue;
}

</style>

</head>
<body>

<nav class="navbar navbar-inverse">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="#">My Cloud Books</a>
    </div>

    <form class="navbar-form navbar-left" action="/action_page.php">
      <div class="input-group">
        <input type="text" class="form-control" placeholder="Search" name="search">
        <div class="input-group-btn">
          <button class="btn btn-default" type="submit">
            <i class="glyphicon glyphicon-search"></i>
          </button>
        </div>
      </div>
    </form>


    <ul class="nav navbar-nav">

      <li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#"><span class="glyphicon glyphicon-book"></span>&nbsp;Books<span class="caret"></span></a>
        <ul class="dropdown-menu" style="background-color: #080808">
        <li><a href="#" style="color:rgb(80,90,80);"><span class="glyphicon glyphicon-share" ></span>&nbsp;Shared Books</a></li>
          <li><a href="#" style="color:rgb(80,90,80);"><span class="glyphicon glyphicon-save-file"></span>&nbsp;Received Books</a></li>
          <li><a href="#" style="color:rgb(80,90,80)"><span class="glyphicon glyphicon-briefcase"></span>&nbsp;My Books</a></li>

        </ul>
      </li>
    </ul>

    <ul class="nav navbar-nav ">
          <li><a href="#">&nbsp;&nbsp;<span class="glyphicon glyphicon-refresh"></span></a></li>


    </ul>



    <ul class="nav navbar-nav navbar-right">
          <li><a href="#MyModal" class="trigger-btn" data-toggle="modal"><span class="glyphicon glyphicon-user"></span> &nbsp;My Account</a></li>
      <li> <a href="logout"><span class="glyphicon glyphicon-log-out"></span> &nbsp;Lgout </a> </li>

    </ul>
  </div>
</nav>

{%if not shared%}

<button type="button" class=" btn btn-primary fa fa-cloud-upload"  data-toggle="modal" data-target="#myModal"  name="button"  style="font-size:40px; margin-left:30px;"> <span style="font-size:20px"> Upload Book</span></button>
{%endif%}

<div class="container">


<div class="modal fade" id="myModal" role="dialog">
  <div class="modal-dialog">

  <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>

      </div>

          <form action="/upload" method="post" enctype="multipart/form-data">
            {% csrf_token %}<br><br>

        <center>  <input type="text" name="book"  id='align' value="" size="38" placeholder="Enter Book Name" required></center>
          <center>    <br><p >*book name must be unique</p> <br>   </center>
          <center>   <input type="file" class="new-button" name="document" id="align2" value="" accept="application/pdf, application/vnd.ms-excel,application/msword,application/vnd.ms-powerpoint" required><br><br>   <center>

            <div class="modal-footer">
          <input type="submit" name="" value="Submit" class="btn btn-secondary"  >
            </div>
          </form>
  </div>
  </div>
    </div>
  </div>






<div id="MyModal" class="modal fade">
	<div class="modal-dialog modal-login">
		<div class="modal-content">

				<div class="modal-header">
					<h4 class="modal-title" style="text-align:center;">My Account</h4>
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
				</div>
				<div class="modal-body">

					<div class="form-group">
						<label>Firstname</label>
						<input type="text" class="form-control" name="Firstname" value="" readonly>
					</div>

          <div class="form-group">
 						<label>Lastname</label>
 						<input type="text" class="form-control" name="Lastname" value="" readonly>
 					</div>


          <div class="form-group">
            <label>Username</label>
            <input type="text" class="form-control" name="Username" value="" readonly>
          </div>

          <div class="form-group">
            <label>Email</label>
            <input type="email" class="form-control" name="Email" value="" readonly>
          </div>
            <input type="submit" id="abs" class="btn btn-primary" onclick="change()" style="margin-right:222px;" value="Change Password">

<form   method="post" name="passval" onsubmit=" return password_validation()">
  <div class="" id="okay" style="visibility:hidden">
					<div class="form-group">
						<div class="clearfix">
							<label>Password*</label>

						</div>
<span class="glyphicon glyphicon-info-sign " onmouseover="des()" id="pass"></span>
						<input type="password" class="form-control" name="Password"required="required"><span id='pas'  style="visibility:hidden;color:red;">*invald</span>
					</div>


          <div class="form-group">
            <div class="clearfix">
              <label>Confirm Password*</label>

            </div>

            <input type="password" class="form-control" name="ConfirmPassword"required="required" ><span id='cpass' style="visibility:hidden;color:red;">*didn't match</span>
          </div>


				<div class="modal-footer">

					<input type="submit" class="btn btn-primary" style="margin-right:222px;" value="Save Password">
				</div>
        </div>
			</form>
		</div>
	</div>
</div>









</body>
</html>
